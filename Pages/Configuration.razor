@using CashModel
@using CashUI
@inject IProductService ProductService
@page "/configuration"

@if (User.IsloggedIn)
{
    <div id="product-container" class='container'>
        <ConfigProductCategories OnIdChanged="IdChanged"></ConfigProductCategories>
        <CashUI.ConfigProducts OnListChanged="ListChanged" Id="SelectedId"></CashUI.ConfigProducts>
    </div>
}
else
{
    <p>user not logged in</p>
}


@code {
    public int SelectedId = 1;
    public List<Product> CurrentList = new List<Product>();
    public IEnumerable<Product> Products;
    [Parameter] public EventCallback<List<Product>> OnList1Changed { get; set; }


    public async void IdChanged(int id)
    {
        SelectedId = id;
    }

    public async void ListChanged(List<Product> List)
    {
        CurrentList = List;
        await OnList1Changed.InvokeAsync(CurrentList);
    }






}
